(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/register.1cb88fce.png"},30:function(e,t,a){e.exports=a(53)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){e.exports=a.p+"static/media/addmoney.aee3f762.png"},52:function(e,t,a){e.exports=a.p+"static/media/buyacc.0a4d8444.png"},53:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(17),s=a.n(i),c=(a(35),a(2)),r=a(3),o=a(5),u=a(4),m=(a(36),a(10)),d=(a(37),new(a(24).Dispatcher)),p=a(25),v=a(16),h=a.n(v),f=new(function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).dispatchToken=d.register(e.handleActions.bind(Object(m.a)(e))),e._user=null,e._jwt=null,e}return Object(r.a)(a,[{key:"handleActions",value:function(e){switch(e.actionType){case"USER_LOGGEDIN":this._jwt=e.jwt,this._user=h()(this._jwt),this.emit("storeChange");break;case"USER_LOGOUT":this._jwt=null,this._user=null,this.emit("storeChange")}}},{key:"getUser",value:function(){return this._user}},{key:"getJwt",value:function(){return this._jwt}},{key:"isLoggedIn",value:function(){return!!this._user}}]),a}(p.EventEmitter));function y(e){localStorage.setItem("jwt",e),d.dispatch({actionType:"USER_LOGGEDIN",jwt:e})}var g=a(15),b=(a(42),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e))._onFocus=function(e){var t=n.inputStance.slice();t[e].value===n.inputDefault[e].value&&(t[e].value=""),1===e&&(t[e].type="password"),n.setState({inputDefault:t})},n._onBlur=function(e){var t=n.inputStance.slice(),a=n.inputDefault[e].value;""===t[e].value&&(t[e].value=a),1===e&&t[e].value===a&&(t[e].type="text"),n.setState({inputStance:t})},n.handleSubmit=function(){var e=n.inputStance[0].value;if(n.setState({value:0}),n.inputStance.map((function(e,t,a){return e.value===n.inputDefault[e.key].value?(n.setState({value:1}),1):e.value.length<n.inputDefault[e.key].minchar?(n.setState({value:2}),2):0}))[0]>0)return 1;var t=n.inputStance[1].value;fetch("http://localhost:3001/login",{method:"post",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:e,password:t})}).then((function(e){return e.json()}),(function(e){return console.log("An error occured.".error)})).then((function(e){if(1===e.response)y(e.token),n.setState({redirect:!0}),n.props.clickoverlay();else if(0===e.response)return n.setState({value:3}),3}))},n._handleKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),n.handleSubmit())},n.inputDefault=[{key:0,isfocus:0,value:"Login",type:"text",minchar:3},{key:1,isfocus:0,value:"Password",type:"text",minchar:3}],n.inputStance=[{key:0,isfocus:0,value:"Login",type:"text"},{key:1,isfocus:0,value:"Password",type:"text"}],n.responseList=["","You have to fill in all fields","You have to use at least 8 characters for Login/Password","Incorrect login or password"],n.state={value:0,redirect:!1,props:n.props},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.isLoggedIn(),n}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({props:e})}},{key:"isLoggedIn",value:function(){1==f.isLoggedIn()&&(this.state.redirect=!0,this.setState({redirect:!0}))}},{key:"handleChange",value:function(e){var t=this.inputStance.slice();t[e.target.getAttribute("data-key")].value=e.target.value,this.setState({state:t})}},{key:"renderRedirect",value:function(){if(this.state.redirect)return l.a.createElement(g.a,{to:"/home"})}},{key:"clickoverlay",value:function(){this.props.clickoverlay()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"containerLogin",style:{display:this.state.props.display}},this.renderRedirect(),l.a.createElement("div",{className:"containerMenu"},l.a.createElement("p",null,"Log in",l.a.createElement("div",{className:"closebtn",onClick:function(){return e.clickoverlay()}},"X")),l.a.createElement("div",{className:"Form"},l.a.createElement("div",{className:"inf"},this.responseList[this.state.value]),l.a.createElement("input",{className:"label","data-key":this.inputStance[0].key,onKeyDown:this._handleKeyDown,onChange:this.handleChange,onBlur:function(){return e._onBlur(e.inputStance[0].key)},onFocus:function(){return e._onFocus(e.inputStance[0].key)},type:"text",spellCheck:"false",name:"login",value:this.inputStance[0].value}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{className:"label","data-key":this.inputStance[1].key,onKeyDown:this._handleKeyDown,onChange:this.handleChange,onBlur:function(){return e._onBlur(e.inputStance[1].key)},onFocus:function(){return e._onFocus(e.inputStance[1].key)},type:this.inputStance[1].type,spellCheck:"false",name:"password",value:this.inputStance[1].value}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.handleSubmit()}},"Login"))))}}]),a}(n.Component)),E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateData=function(){n.setState({isLoggedIn:f.isLoggedIn()})},n.state={redirect:!1,isLoggedIn:f.isLoggedIn(),overlay:"none",loginDisplay:"none",registerDisplay:"none"},n.clickOverlay=n.clickOverlay.bind(Object(m.a)(n)),n}return Object(r.a)(a,[{key:"clickOverlay",value:function(){this.setState({overlay:"none",loginDisplay:"none",registerDisplay:"none"})}},{key:"componentDidMount",value:function(){f.on("storeChange",this.updateData)}},{key:"componentWillUnmount",value:function(){f.removeListener("storeChange",this.updateData)}},{key:"ifLoggedIn",value:function(){var e=this;return 1==this.state.isLoggedIn?l.a.createElement("div",{className:"navigation"},l.a.createElement("div",{className:"userinfo"}," Hello, ",f.getUser().login),l.a.createElement("div",{className:"userinfo"},l.a.createElement("a",{href:"/auth/logout"},"Logout"))):l.a.createElement("div",{className:"navigation"},l.a.createElement("div",{className:"button2",onClick:function(){return e.setState({loginDisplay:"block"})}},"Login"),l.a.createElement("div",{className:"button2",onClick:function(){return e.setState({registerDisplay:"block"})}},"Regsiter"))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"componentHead"},l.a.createElement("div",{className:"Header"},l.a.createElement("a",{href:"/home"},l.a.createElement("div",{className:"logo-name"},"FitSE .com")),this.ifLoggedIn(),l.a.createElement("div",{id:"overlay",style:{display:this.state.overlay},onClick:function(){return e.clickOverlay()}})),l.a.createElement(b,{display:this.state.loginDisplay,clickoverlay:this.clickOverlay}))}}]),a}(n.Component),k=(a(48),a(49),a(63)),N=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){0==t&&(t=1),n.setState({slidervalue:t})},n.state={slidervalue:1,price:10},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"BuyPanel",style:{display:this.props.display}},l.a.createElement("div",{className:"title"},"Make a order"),l.a.createElement("div",{className:"label1"}),l.a.createElement("br",null),l.a.createElement("span",{className:"qty"},"Account quantity: ",this.state.slidervalue),l.a.createElement("br",null),l.a.createElement(k.a,{style:{width:"200px"},value:this.state.slidervalue,max:"20",onChange:this.handleChange,"aria-labelledby":"discrete-slider-small-steps"}),l.a.createElement("br",null),l.a.createElement("span",{className:"price"},"Price: ",this.state.slidervalue*this.state.price," $"),l.a.createElement("div",{className:"buttonOrder"},"Order Now"))}}]),a}(n.Component),j=(a(50),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Deposit",style:{display:this.props.display}},l.a.createElement("div",{className:"title"},"Deposit Money"),l.a.createElement("div",{className:"label1"}),l.a.createElement("br",null),l.a.createElement("input",{value:""}),l.a.createElement("span",{className:"sign"}))}}]),a}(n.Component)),O=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).updateData=function(){a.setState({user:f.getUser(),jwt:f.getJwt(),isLoggedIn:f.isLoggedIn()}),0==f.isLoggedIn()&&(a.state.redirect=!0)},a.state={user:f.getUser(),jwt:f.getJwt(),isLoggedIn:f.isLoggedIn(),buypanelDisplay:"none",overlay:"none",depositDisplay:"none"},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){f.on("storeChange",this.updateData),this.state.isLoggedIn,this.loadComments()}},{key:"componentWillUnmount",value:function(){f.removeListener("storeChange",this.updateData)}},{key:"clickOverlay",value:function(){this.setState({overlay:"none",buypanelDisplay:"none",depositDisplay:"none"})}},{key:"clickLoginTab",value:function(){"none"==this.HeadRef.state.loginDisplay&&this.HeadRef.setState({loginDisplay:"block"})}},{key:"showIfLogged",value:function(e){return 1==e?1==this.state.isLoggedIn?"inline-block":"none":0==e?1==this.state.isLoggedIn?"none":"inline-block":void 0}},{key:"renderWhenLogged",value:function(){if(1==this.state.isLoggedIn)return l.a.createElement("div",{className:"userInformation"},"Username: ",this.state.user.login,l.a.createElement("br",null),"Wallet: ",this.state.user.wallet," $",l.a.createElement("br",null),"Accounts Bought: ",this.state.user.bought,l.a.createElement("br",null))}},{key:"loadComments",value:function(){var e=this;fetch("http://localhost:3001/reviews").then((function(e){return e.json()})).then((function(t){var a=t.data.map((function(e){return l.a.createElement("div",{className:"comment"},l.a.createElement("div",{className:"name"},e.nick),e.comment)}));e.setState({comments:a})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Home"},l.a.createElement(N,{display:this.state.buypanelDisplay}),l.a.createElement(j,{display:this.state.depositDisplay}),l.a.createElement(E,{ref:function(t){return e.HeadRef=t}}),l.a.createElement("div",{className:"ControlMenu"},l.a.createElement("div",{className:"ControlTab"},"Accounts Stock",l.a.createElement("div",{className:"ControlTabInfo"},"142")),l.a.createElement("div",{className:"ControlTab"},"Account Price",l.a.createElement("div",{className:"ControlTabInfo"},"10$")),l.a.createElement("div",{className:"ControlTab"},"Delivery Time",l.a.createElement("div",{className:"ControlTabInfo"},"Instant"))),this.renderWhenLogged(),l.a.createElement("br",null),l.a.createElement("div",{className:"productList"},l.a.createElement("div",{className:"tab",style:{display:this.showIfLogged(!1)},onClick:function(){return e.clickLoginTab()}},l.a.createElement("div",{className:"offertText"},"Login"),l.a.createElement("img",{src:a(23)})),l.a.createElement("div",{className:"tab",style:{display:this.showIfLogged(!1)}},l.a.createElement("div",{className:"offertText"},"Register"),l.a.createElement("img",{src:a(23)})),l.a.createElement("div",{className:"tab",onClick:function(){e.setState({depositDisplay:"block",overlay:"block"})}},l.a.createElement("div",{className:"offertText"},"Deposit Money"),l.a.createElement("img",{src:a(51)})),l.a.createElement("div",{className:"tab",onClick:function(){e.setState({buypanelDisplay:"block",overlay:"block"})}},l.a.createElement("div",{className:"offertText"},"Buy Fitbit Accounts"),l.a.createElement("img",{src:a(52)}))),l.a.createElement("div",{className:"reviews"},"Client Reviews:"),l.a.createElement("div",{id:"overlay",style:{display:this.state.overlay},onClick:function(){return e.clickOverlay()}}))}}]),n}(n.Component),S=a(14),C=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"logout",value:function(){localStorage.removeItem("jwt"),d.dispatch({actionType:"USER_LOGOUT"})}},{key:"componentDidMount",value:function(){this.logout()}},{key:"render",value:function(){return l.a.createElement("div",{className:"logout"},l.a.createElement(g.a,{to:"/home"}))}}]),a}(n.Component),D=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n.HeadRef=l.a.createRef(),n}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S.a,{basename:"/p00/"},l.a.createElement(g.d,null,l.a.createElement(g.b,{exact:!0,name:"home",path:"/",component:O}),l.a.createElement(g.b,{exact:!0,name:"home",path:"/home",component:O}),l.a.createElement(g.b,{exact:!0,name:"login",path:"/auth/login",component:b}),l.a.createElement(g.b,{exact:!0,name:"logout",path:"/auth/logout",component:C}))))}}]),a}(n.Component),L=localStorage.getItem("jwt");L&&y(L),s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S.a,null,l.a.createElement(D,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.5fe2b9d5.chunk.js.map